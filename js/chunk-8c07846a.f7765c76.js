(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8c07846a"],{"0502":function(e,t,a){"use strict";var i=a("d4ec"),s=a("bee2"),n=a("ade3"),d=a("677a"),o=function(){function e(){Object(i.a)(this,e),Object(n.a)(this,"BASE_URL","admin/SharesStore/")}return Object(s.a)(e,[{key:"findAll",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return d.a.doHttp(this.BASE_URL+"findAll","get",{page:e,pageSize:t,field:a})}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d.a.doHttp(this.BASE_URL+"find","get",{id:e,field:t})}},{key:"create",value:function(e){return delete e.id,d.a.doHttp(this.BASE_URL+"create","post",e)}},{key:"update",value:function(e){return d.a.doHttp(this.BASE_URL+"update","post",e)}},{key:"delete",value:function(e){return d.a.doHttp(this.BASE_URL+"delete","post",{id:e})}}]),e}();t.a=new o},"229f":function(e,t,a){"use strict";a("614c")},5426:function(e,t,a){"use strict";var i=a("d4ec"),s=a("bee2"),n=a("ade3"),d=a("677a"),o=function(){function e(){Object(i.a)(this,e),Object(n.a)(this,"BASE_URL","admin/SharesUser/")}return Object(s.a)(e,[{key:"findAll",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return d.a.doHttp(this.BASE_URL+"findAll","get",{page:e,pageSize:t,field:a})}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d.a.doHttp(this.BASE_URL+"find","get",{id:e,field:t})}},{key:"create",value:function(e){return delete e.id,d.a.doHttp(this.BASE_URL+"create","post",e)}},{key:"update",value:function(e){return d.a.doHttp(this.BASE_URL+"update","post",e)}},{key:"delete",value:function(e){return d.a.doHttp(this.BASE_URL+"delete","post",{id:e})}}]),e}();t.a=new o},"614c":function(e,t,a){},"788f":function(e,t,a){"use strict";a.r(t),a("7db0"),a("a434");var i=a("d4ec"),s=a("bee2"),n=a("ade3"),d=a("677a"),o=new(function(){function e(){Object(i.a)(this,e),Object(n.a)(this,"BASE_URL","admin/SharesUserConfig/")}return Object(s.a)(e,[{key:"findAll",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return d.a.doHttp(this.BASE_URL+"findAll","get",{page:e,pageSize:t,field:a})}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d.a.doHttp(this.BASE_URL+"find","get",{id:e,field:t})}},{key:"create",value:function(e){return delete e.id,d.a.doHttp(this.BASE_URL+"create","post",e)}},{key:"update",value:function(e){return d.a.doHttp(this.BASE_URL+"update","post",e)}},{key:"delete",value:function(e){return d.a.doHttp(this.BASE_URL+"delete","post",{id:e})}}]),e}()),r=a("0502"),l=a("5426"),c={name:"SharesUserConfig",components:{},data:function(){return{headers:[{text:"ID",value:"id",align:"center"},{text:"用户名",value:"user.username",align:"center"},{text:"店铺",value:"store.store_name",align:"center"},{text:"股份数量",value:"shares",align:"center"},{text:"开始时间",value:"start_date",align:"center"},{text:"备注",value:"other",align:"center"},{text:"最后更新时间",value:"update_time",align:"center"},{text:"操作",value:"action",align:"center"}],items:[],pageConfig:{page:1,pageCount:1,totalDesserts:1},searchData:"",editedIndex:0,deleteDialogs:!1,editedDialogs:!1,datePickerDialogs:!1,editedData:{id:-1,shares_user_id:-1,store_id:-1,shares:0,start_date:(new Date).format("yyyy-MM-dd hh:mm:ss"),other:""},storeList:[{id:0,store:{store_name:""},store_id:1}],userList:[{id:0,username:null}]}},created:function(){this.refresh()},mounted:function(){},methods:{refresh:function(){this.getStoreList(),this.getUserList(),this.findAll()},newCreate:function(){this.editedIndex=-1,this.editedData={id:-1,shares_user_id:-1,store_id:-1,shares:0,start_date:(new Date).format("yyyy-MM-dd hh:mm:ss"),other:""},this.editedDialogs=!0},find:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.editedIndex=this.items.indexOf(t),o.find(this.items[this.editedIndex].id).then((function(t){e.editedData=t.data,e.editedDialogs=!0}))},findAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;o.findAll(t,a).then((function(t){e.items=t.data.data,e.pageConfig={page:t.data.current_page,pageCount:t.data.last_page,totalDesserts:t.data.total}}))},chickPage:function(e){this.findAll(e)},submit:function(){var e=this;this.editedIndex>=0?o.update(this.editedData).then((function(t){Object.assign(e.items[e.editedIndex],t.data),e.editedDialogs=!1,e.$store.commit("snackBarShow",{message:"保存成功",color:"success"})})):o.create(this.editedData).then((function(t){e.items.push(t.data),e.editedDialogs=!1,e.$store.commit("snackBarShow",{message:"保存成功",color:"success"})}))},doDelete:function(){var e=this;o.delete(this.items[this.editedIndex].id).then((function(){e.deleteDialogs=!1,e.items.splice(e.editedIndex,1),e.$store.commit("snackBarShow",{message:"删除成功",color:"success"})}))},getStoreList:function(){var e=this;r.a.findAll(1,9999,"id,store_id").then((function(t){e.storeList=t.data.data}))},getUserList:function(){var e=this;l.a.findAll(1,9999,"id,username").then((function(t){e.userList=t.data.data}))}}},u=(a("229f"),a("2877")),f=a("6544"),v=a.n(f),h=a("8336"),g=a("b0af"),p=a("99d9"),m=a("62ad"),_=a("8fea"),D=a("2e4b"),x=a("169a"),k=a("132d"),b=a("891e"),C=a("0fd9"),S=a("b974"),y=a("2fa4"),A=a("8654"),L=a("a844"),w=Object(u.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column",attrs:{id:"SharesUserConfig"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.items,page:e.pageConfig.page,"server-items-length":e.pageConfig.totalDesserts,"hide-default-footer":""},on:{"update:page":function(t){return e.$set(e.pageConfig,"page",t)},"page-count":function(t){e.pageConfig.pageCount=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card-title",[a("div",[a("v-btn",{staticClass:"mr-5",attrs:{color:"success"},on:{click:e.newCreate}},[e._v("新增")]),a("v-btn",{staticClass:"mr-5",attrs:{color:"info"},on:{click:e.refresh}},[e._v("刷新")])],1)])]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"mr-2",attrs:{icon:""}},[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.find(i)}}},[e._v(" mdi-pencil ")])],1),a("v-btn",{staticClass:"mr-2",attrs:{icon:""}},[a("v-icon",{attrs:{small:""},on:{click:function(t){e.editedIndex=e.items.indexOf(i),e.deleteDialogs=!0}}},[e._v(" mdi-delete ")])],1)]}}])}),a("div",{staticClass:"mt-auto mb-10"},[a("v-pagination",{attrs:{length:e.pageConfig.pageCount},on:{input:e.chickPage},model:{value:e.pageConfig.page,callback:function(t){e.$set(e.pageConfig,"page",t)},expression:"pageConfig.page"}})],1),a("div",[a("v-dialog",{attrs:{persistent:"",width:"300px"},model:{value:e.deleteDialogs,callback:function(t){e.deleteDialogs=t},expression:"deleteDialogs"}},[a("v-card",[a("v-card-title",[e._v(" 提示 ")]),a("v-card-text",[e._v(" 确定要删除么 ")]),a("v-card-actions",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"mr-3",attrs:{color:"info"},on:{click:e.doDelete}},[e._v("确定")]),a("v-btn",{on:{click:function(t){e.deleteDialogs=!1}}},[e._v("取消")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"700"},model:{value:e.editedDialogs,callback:function(t){e.editedDialogs=t},expression:"editedDialogs"}},[a("v-card",[a("v-card-title",[e._v(" 详细信息 ")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("ID")])]),a("v-col",{attrs:{cols:"5"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:e.editedData.id,callback:function(t){e.$set(e.editedData,"id",t)},expression:"editedData.id"}})],1)],1),a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("股东")])]),a("v-col",{attrs:{cols:"5"}},[a("v-select",{attrs:{items:e.userList,dense:"","hide-details":"","item-text":"username","item-value":"id",outlined:"",placeholder:"选择股东"},model:{value:e.editedData.shares_user_id,callback:function(t){e.$set(e.editedData,"shares_user_id",t)},expression:"editedData.shares_user_id"}})],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("店铺")])]),a("v-col",{attrs:{cols:"5"}},[a("v-select",{attrs:{items:e.storeList,dense:"","hide-details":"","item-text":"store.store_name","item-value":"store_id",outlined:"",placeholder:"选择店铺"},model:{value:e.editedData.store_id,callback:function(t){e.$set(e.editedData,"store_id",t)},expression:"editedData.store_id"}})],1)],1),a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("股份数量")])]),a("v-col",{attrs:{cols:"5"}},[a("v-text-field",{attrs:{dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedData.shares,callback:function(t){e.$set(e.editedData,"shares",t)},expression:"editedData.shares"}})],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("开始时间")])]),a("v-col",{attrs:{cols:"5"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.editedData.start_date,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedData,"start_date",t)},"update:return-value":function(t){return e.$set(e.editedData,"start_date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"","hide-details":"",outlined:"",readonly:""},model:{value:e.editedData.start_date,callback:function(t){e.$set(e.editedData,"start_date",t)},expression:"editedData.start_date"}},"v-text-field",s,!1),i))]}}]),model:{value:e.datePickerDialogs,callback:function(t){e.datePickerDialogs=t},expression:"datePickerDialogs"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.editedData.start_date,callback:function(t){e.$set(e.editedData,"start_date",t)},expression:"editedData.start_date"}},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.datePickerDialogs=!1}}},[e._v(" 取消 ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.$refs.dialog.save(e.editedData.start_date)}}},[e._v(" 确定 ")])],1)],1)],1)],1),a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("备注")])]),a("v-col",{attrs:{cols:"5"}},[a("v-textarea",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",dense:"","hide-details":"","no-resize":"",outlined:""},model:{value:e.editedData.other,callback:function(t){e.$set(e.editedData,"other",t)},expression:"editedData.other"}})],1)],1)],1),a("v-card-actions",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"mr-3",attrs:{color:"info"},on:{click:e.submit}},[e._v("确定")]),a("v-btn",{on:{click:function(t){e.editedDialogs=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)}),[],!1,null,"7d365308",null);t.default=w.exports,v()(w,{VBtn:h.a,VCard:g.a,VCardActions:p.a,VCardText:p.b,VCardTitle:p.c,VCol:m.a,VDataTable:_.a,VDatePicker:D.a,VDialog:x.a,VIcon:k.a,VPagination:b.a,VRow:C.a,VSelect:S.a,VSpacer:y.a,VTextField:A.a,VTextarea:L.a})}}]);