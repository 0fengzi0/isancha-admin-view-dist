(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9641b770"],{3991:function(e,t,a){"use strict";a("d57e")},d57e:function(e,t,a){},f86d:function(e,t,a){"use strict";a.r(t),a("7db0"),a("a434");var i=a("d4ec"),d=a("bee2"),s=a("ade3"),n=a("677a"),o=new(function(){function e(){Object(i.a)(this,e),Object(s.a)(this,"BASE_URL","admin/OrderList/")}return Object(d.a)(e,[{key:"findAll",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.a.doHttp(this.BASE_URL+"findAll","get",{page:e,pageSize:t,field:a})}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.a.doHttp(this.BASE_URL+"find","get",{id:e,field:t})}},{key:"create",value:function(e){return delete e.id,n.a.doHttp(this.BASE_URL+"create","post",e)}},{key:"update",value:function(e){return n.a.doHttp(this.BASE_URL+"update","post",e)}},{key:"delete",value:function(e){return n.a.doHttp(this.BASE_URL+"delete","post",{id:e})}},{key:"endOrder",value:function(e){return n.a.doHttp(this.BASE_URL+"endOrder","post",{id:e})}}]),e}()),l={name:"Order",components:{},data:function(){return{headers:[{text:"ID",value:"id",align:"center"},{text:"订单编号",value:"order_no",align:"center"},{text:"提货门店",value:"store.store_name",align:"center"},{text:"下单人手机号",value:"phone",align:"center"},{text:"订单状态",value:"order_status",align:"center"},{text:"记录时间",value:"create_time",align:"center"},{text:"操作",value:"action",align:"center"}],items:[],pageConfig:{page:1,pageCount:1,totalDesserts:1},searchData:"",editedIndex:0,deleteDialogs:!1,editedDialogs:!1,editedData:{id:-1,order_no:"",store_id:-1,store:{id:-1,store_name:""},title:"",detail:[],phone:"",ip:"",price:0,order_status:0,pay_order_time:"",order_end_time:"",create_time:""}}},created:function(){this.refresh()},mounted:function(){},methods:{refresh:function(){this.findAll()},newCreate:function(){this.editedIndex=-1,this.editedData={id:-1,order_no:"",store_id:-1,store:{id:-1,store_name:""},title:"",detail:[],phone:"",ip:"",price:0,order_status:0,pay_order_time:"",order_end_time:"",create_time:""},this.editedDialogs=!0},find:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.editedIndex=this.items.indexOf(t),o.find(this.items[this.editedIndex].id).then((function(t){e.editedData=t.data,e.editedDialogs=!0}))},findAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;o.findAll(t,a).then((function(t){e.items=t.data.data,e.pageConfig={page:t.data.current_page,pageCount:t.data.last_page,totalDesserts:t.data.total}}))},chickPage:function(e){this.findAll(e)},submit:function(){var e=this;this.editedData.password=this.$md5(this.editedData.password),this.editedIndex>=0?o.update(this.editedData).then((function(t){Object.assign(e.items[e.editedIndex],t.data),e.editedDialogs=!1,e.$store.commit("snackBarShow",{message:"保存成功",color:"success"})})).then((function(){e.editedData.password=""})):o.create(this.editedData).then((function(t){e.items.push(t.data),e.editedDialogs=!1,e.$store.commit("snackBarShow",{message:"保存成功",color:"success"})})).then((function(){e.editedData.password=""}))},doDelete:function(){var e=this;o.delete(this.items[this.editedIndex].id).then((function(){e.deleteDialogs=!1,e.items.splice(e.editedIndex,1),e.$store.commit("snackBarShow",{message:"删除成功",color:"success"})}))},statusToStr:function(e){switch(e){case 0:return"已下单";case 1:return"已付款";case 2:return"已兑换";case-1:return"订单结束"}},endOrder:function(e){var t=this;o.endOrder(e.id).then((function(a){var i=t.items.indexOf(e);t.items[i].order_status=2,t.$store.commit("snackBarShow",{message:"保存成功",color:"success"})})).then((function(){t.editedData.password=""}))}}},r=(a("3991"),a("2877")),c=a("6544"),u=a.n(c),v=a("8336"),f=a("b0af"),p=a("99d9"),g=a("62ad"),h=a("8fea"),_=a("169a"),m=a("132d"),D=a("891e"),x=a("0fd9"),b=a("8654"),C=Object(r.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column",attrs:{id:"Order"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.items,page:e.pageConfig.page,"server-items-length":e.pageConfig.totalDesserts,"hide-default-footer":""},on:{"update:page":function(t){return e.$set(e.pageConfig,"page",t)},"page-count":function(t){e.pageConfig.pageCount=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card-title",[a("div",[a("v-btn",{staticClass:"mr-5",attrs:{color:"info"},on:{click:e.refresh}},[e._v("刷新")])],1)])]},proxy:!0},{key:"item.phone",fn:function(t){var a=t.item;return[e._v(" "+e._s((a.phone+"").replace(/\B(?=(?:\d{4})+$)/g," "))+" ")]}},{key:"item.order_status",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.statusToStr(a.order_status))+" ")]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"mr-2",attrs:{icon:""}},[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.find(i)}}},[e._v(" mdi-pencil ")])],1),1==i.order_status?a("v-btn",{staticClass:"mr-2",attrs:{icon:""}},[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.endOrder(i)}}},[e._v(" mdi-stop ")])],1):e._e()]}}])}),a("div",{staticClass:"mt-auto mb-10"},[a("v-pagination",{attrs:{length:e.pageConfig.pageCount,"total-visible":10},on:{input:e.chickPage},model:{value:e.pageConfig.page,callback:function(t){e.$set(e.pageConfig,"page",t)},expression:"pageConfig.page"}})],1),a("div",[a("v-dialog",{attrs:{persistent:"",width:"300px"},model:{value:e.deleteDialogs,callback:function(t){e.deleteDialogs=t},expression:"deleteDialogs"}},[a("v-card",[a("v-card-title",[e._v(" 提示 ")]),a("v-card-text",[e._v(" 确定要删除么 ")]),a("v-card-actions",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"mr-3",attrs:{color:"info"},on:{click:e.doDelete}},[e._v("确定")]),a("v-btn",{on:{click:function(t){e.deleteDialogs=!1}}},[e._v("取消")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"1000"},model:{value:e.editedDialogs,callback:function(t){e.editedDialogs=t},expression:"editedDialogs"}},[a("v-card",[a("v-card-title",[e._v(" 详细信息 ")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("ID")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:e.editedData.id,callback:function(t){e.$set(e.editedData,"id",t)},expression:"editedData.id"}})],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("订单编号")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:e.editedData.order_no,callback:function(t){e.$set(e.editedData,"order_no",t)},expression:"editedData.order_no"}})],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("取单店铺")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:e.editedData.store.store_name,callback:function(t){e.$set(e.editedData.store,"store_name",t)},expression:"editedData.store.store_name"}})],1)],1),a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("下单手机号")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:e.editedData.phone,callback:function(t){e.$set(e.editedData,"phone",t)},expression:"editedData.phone"}})],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("订单金额")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:e.editedData.price,callback:function(t){e.$set(e.editedData,"price",t)},expression:"editedData.price"}})],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("订单状态")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{value:e.statusToStr(e.editedData.order_status),dense:"",disabled:"","hide-details":"",outlined:""}})],1)],1),a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("下单时间")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:e.editedData.create_time,callback:function(t){e.$set(e.editedData,"create_time",t)},expression:"editedData.create_time"}})],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("支付时间")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:"",placeholder:"暂无数据"},model:{value:e.editedData.pay_order_time,callback:function(t){e.$set(e.editedData,"pay_order_time",t)},expression:"editedData.pay_order_time"}})],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("取单时间")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:"",placeholder:"暂无数据"},model:{value:e.editedData.order_end_time,callback:function(t){e.$set(e.editedData,"order_end_time",t)},expression:"editedData.order_end_time"}})],1)],1),a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"1"}},[a("div",[e._v("下单IP")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:e.editedData.ip,callback:function(t){e.$set(e.editedData,"ip",t)},expression:"editedData.ip"}})],1)],1),a("v-row",[a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"2"}},[a("div",[e._v("订单详细信息")])]),a("v-col",{attrs:{cols:"10"}},[[a("div",[e._v(e._s(e.editedData.detail))])]],2)],1)],1),a("v-card-actions",{staticClass:"d-flex justify-end"},[a("v-btn",{on:{click:function(t){e.editedDialogs=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)}),[],!1,null,"ed86cc0e",null);t.default=C.exports,u()(C,{VBtn:v.a,VCard:f.a,VCardActions:p.a,VCardText:p.b,VCardTitle:p.c,VCol:g.a,VDataTable:h.a,VDialog:_.a,VIcon:m.a,VPagination:D.a,VRow:x.a,VTextField:b.a})}}]);